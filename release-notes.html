<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="stylesheets/joss.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>JOSS / Release Notes</title>
  </head>

  <body>
    <header>
      <div class="inner">
          <h1><img src="images/joss-logo.png" title="JOSS"/></h1>
        <h2>Java library for OpenStack Storage, aka Swift</h2>
        <a href="https://github.com/javaswift/joss" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">

            <h1>Release notes</h1>

            <h2><a name="v084" class="anchor" href="#v084"><span class="mini-icon mini-icon-link"></span></a>v0.8.4</h2>
            <ul>
                <li><strong><a href="https://github.com/javaswift/joss/issues/16">Debug information</a></strong>; calls are logged with their headers at DEBUG level</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/20">Public URL instead of internal URL (revisited)</a></strong>; not all references to the internal were replaced. Now they are.</li>
            </ul>

            <h2><a name="v083" class="anchor" href="#v083"><span class="mini-icon mini-icon-link"></span></a>v0.8.3</h2>
            <ul>
                <li><strong><a href="https://github.com/javaswift/joss/issues/17">Keep connection alive</a></strong>; the header "Connection: Keep-Alive" is passed to the ObjectStore. This forces HttpClient to keep the connection open.</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/18">Account.list() and Container.list() hide implementation details</a></strong>; the ObjectStore returns a maximum of 10,000 containers or objects. When you called list(), you would get only this maxium and no more. To get it all, you had to use a Pagination map. With this release, you can call list() and it will return all containers/objects, hiding the max page size implementation detail.</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/19">Replace Mockito with JMockit</a></strong>; refactoring of the unit tests to make use of JMockit instead of Mockito, see also the <a href="http://blog.42.nl/articles/mockito-powermock-vs-jmockit/">blog post</a>.</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/20">Public URL instead of internal URL</a></strong>; internal URL is intended for the hosting party, not for API usage. CloudVPS recommended to make use of the public URL returned by Keystone.</li>
            </ul>

            <h2><a name="v082" class="anchor" href="#v082"><span class="mini-icon mini-icon-link"></span></a>v0.8.2</h2>
            <ul>
                <li><strong><a href="https://github.com/javaswift/joss/issues/15">fluent interface on AccountConfig interferes with Tomcat context.xml</a></strong>; Tomcat does not like a Bean to have fluent setter methods. AccountConfig is now once more a plain bean with void setters. The fluent interface has been relocated to factory.</li>
            </ul>

            <h2><a name="v081" class="anchor" href="#v081"><span class="mini-icon mini-icon-link"></span></a>v0.8.1</h2>
            <ul>
                <li><strong><a href="https://github.com/javaswift/joss/issues/8">exists() does not log an error</a></strong>; everytime exists() is called, it used to log a 404 error. Since the call is about detecting, this has been disabled</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/9">custom host</a></strong>; not only mock, but also real mode benefits from having a custom host which you can use to prefix ObjectStore URLs</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/10">HttpClient socket timeout</a></strong>; if no custom HttpClient is supplied, JOSS can be instructed to instantiate a DefaultHttpClient with a custom socket timeout. In light of <a href="http://pragprog.com/book/mnee/release-it">Release It!</a>, useful to get more robust systems not clogging up on deadlocked HTTP clients</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/11">more clean ObjectDeleter</a></strong>; ObjectDeleter used to be a ScheduledExecutorService that always ran in the background. Now it only pops up when it is needed (for DeleteAt/DeleteAfter headers) and it shuts down when it is not</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/12">configurables in AccountConfig</a></strong>; easier to configure JOSS, with more variables now centralized in AccountConfig. The new variables are allowReauthenticate, allowCaching, mock allowObjectDeleter (see above), mock allowEveryone and mock onFileObjectStore</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/13">HEAD calls return SC_OK instead of SC_NO_CONTENT</a></strong>; Swift now returns SC_OK on all HEAD calls (account, container and object), instead of the SC_NO_CONTENT it had before. Mock mode has been aligned with this changed reality</li>
            </ul>

            <h2><a name="v080" class="anchor" href="#v080"><span class="mini-icon mini-icon-link"></span></a>v0.8.0</h2>
            <p>Theme: <em>polishing for v1.0, adopting more requirements from project at 42</em></p>

            <ul>
                <li><strong><a href="https://github.com/javaswift/joss/issues/1">Encoding URLs</a></strong>; public URLs are encoded properly. This counts also for certain header values, such as X-Copy-From and X-Object-Manifest</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/2">Mock / Insert custom sequence of status codes</a></strong>; sometimes it is desirable that you can order JOSS to return a certain error. The system works somewhat similar to Mockito, so you can ask it to return a custom status depending on the nth call, a specific class, or both</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/3">Mock / Configurable delay</a></strong>; a mocked command call can now be ordered to Thread.sleep a set number of milliseconds to better simulate actual Swift conditions</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/4">Mock / Host</a></strong>; in mock mode, a custom host will be returned when a public URL is asked</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/5">Mock / major refactoring</a></strong>; the entire mechanism for mocking Swift has been refactored. It is now better aligned with the real implementation, ie more reuse of the same codebase. This issue was necessary to fix custom delays and custom sequences of status codes</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/6">Pagination Map query encoding</a></strong>; query parameters for pagination are now encoded as well</li>
                <li><strong><a href="https://github.com/javaswift/joss/issues/7">Updated credential classes</a></strong>; the latest Keystone implementation has a couple more fields, which JOSS now accepts as well</li>
            </ul>

            <h2><a name="v070" class="anchor" href="#v070"><span class="mini-icon mini-icon-link"></span></a>v0.7.0</h2>

            <p>Theme: <em>plug'n'play for the convenience user and power for the power user</em></p>

            <ul>
                <li>
                    <strong>Paging lists of containers and objects</strong>; OpenStack paging can now be accessed either in the original form (using the last entry's name on the previous page as a marker), or with a page. Note that the list methods have change from <code>listX</code> to just <code>list</code>
                </li>
                <li>
                    <strong>Listing only containers and objects with a prefix</strong>; containers and objects can have their lists filtered on name prefixes</li>
                <li>
                    <strong>Public URL for mock implementation</strong>; a placeholder URL can be passed to the mock implementation. This URL will be prefixed to the container/object. In this way you can set up your own controllers that access content and still have it work in mock mode</li>
                <li>
                    <strong>Serialized output for containers</strong>; when containers and stored objects are listed, use is made of the JSON objects instead of the plain text lines</li>
                <li>
                    <strong>Reuse the header information from container/object listing for metadata</strong>; specific header fields passed by the Account/Container <code>list</code> operation are now stored and do not automatically lead to a refetch when queried (unless caching is turned off)</li>
                <li>Minor changes/refactorings:

                    <ul>
                        <li>
                            <strong>Check your calls to the ObjectStore</strong>; Account can let you know how many HTTP calls to the ObjectStore have been made so far</li>
                        <li>
                            <strong>Logging critical information</strong>; various logging statements added (INFO, WARN and ERROR level), for configuration, critical components and exceptions</li>
                    </ul>
                </li>
            </ul><h2>
            <a name="v061" class="anchor" href="#v061"><span class="mini-icon mini-icon-link"></span></a>v0.6.1</h2>

            <p>Theme: <em>First usage in the 42 project and feedback from the team</em></p>

            <ul>
                <li>
                    <strong>Large Object Creation</strong>; Segmented files and manifests can be uploaded. Files and byte array are automatically segmented if the segmentation size is exceeded.
                    <a href="http://docs.openstack.org/api/openstack-object-storage/1.0/content/large-object-creation.html">http://docs.openstack.org/api/openstack-object-storage/1.0/content/large-object-creation.html</a>
                </li>
                <li>
                    <strong>Factories</strong>; factories that can be used in Spring to get a self-reauthenticating account singleton </li>
                <li>
                    <strong>OnFileObjectLoader</strong>; you can set up a folder with a layer of subfolders (ie, containers) and files (ie, objects). The ClientMock can be instructed to load this entire folder structure and convert it into an in-memory ObjectStore. </li>
                <li>
                    <strong>Thread safety</strong>; a number of routines have been made thread-safe so that the usage of a connection pool of accounts is not necessary, but a single Account can be instantiated in a Spring context</li>
                <li>
                    <strong>Other HTTP client</strong>; the default HTTP client now has a different connection manager (PoolingClientConnectionManager) than the default single-threaded one (BasicClientConnectionManager). You can still bring your own if this one is not good enough.</li>
                <li>
                    <strong>Caching on/off</strong>; JOSS lazy-reads the metadata on an instance and then never again. It is possible to turn off this caching mechanism, so that metadata is always loaded for every get call on account/container/object instance.</li>
                <li>
                    <strong>Entity reload</strong>; Account, Container and StoredObject can be forced to reload their metadata.</li>
                <li>Minor changes/refactorings:

                    <ul>
                        <li>
                            <strong>100% Test coverage</strong>; all JOSS code is now covered by tests</li>
                        <li>
                            <strong>Cyclic dependencies</strong>; eliminated all relevant cyclic dependencies from the code base</li>
                        <li>
                            <strong>Public URL exposed by Account</strong>; Account now returns the public URL configured in the Object Store for the Account</li>
                        <li>
                            <strong>Package refactoring</strong>; core Swift classes moved to model, original model classes moved to instructions and information</li>
                    </ul>
                </li>
            </ul><h2>
            <a name="v050" class="anchor" href="#v050"><span class="mini-icon mini-icon-link"></span></a>v0.5.0</h2>

            <p>Theme: <em>Working down the list of unsupported Object Storage features: <a href="https://github.com/java-openstack/joss/wiki/Future-features">https://github.com/java-openstack/joss/wiki/Future-features</a></em></p>

            <ul>
                <li>
                    <strong>X-Delete-After / X-Delete-At</strong>; with X-Delete-At, the ObjectStore can be instructed to remove an object at the specified date/time. With X-Delete-After, the ObjectStore is instructed to remove the object x seconds after the current date/time. </li>
                <li>
                    <strong>If-*Modified-Since headers</strong>; these headers instruct the ObjectStore to check against the last modification date. In the case of If-Modified-Since, the content will be returned if changes have taken place. In the case of If-Unmodified-Since, the content will be returned if changes have NOT taken place. See also, the Openstack API: <a href="http://docs.openstack.org/api/openstack-object-storage/1.0/content/retrieve-object.html">http://docs.openstack.org/api/openstack-object-storage/1.0/content/retrieve-object.html</a>
                </li>
                <li>
                    <strong>If-Match / If-None-Match</strong>; these headers instruct the ObjectStore to check against the passed value. In the case of If-None-Match, the content will only be returned if the value does not match (ie, content is modified). In the case of If-Match, the content will only be returned if the value matches (ie, content is unmodified). </li>
                <li>
                    <strong>Exception hierarchy</strong>; CommandException subclasses to prevent the need to compare exception content on catching. Every fail condition resulting from a HTTP status now translates to a corresponding exception.</li>
                <li>Minor changes/refactorings:

                    <ul>
                        <li>Removed all IOExceptions from StoredObject interface</li>
                        <li>Ability to add Content-Type as part of the upload, not only afterwards</li>
                        <li>Removed dependency on commons.lang</li>
                    </ul>
                </li>
            </ul><h2>
            <a name="v040" class="anchor" href="#v040"><span class="mini-icon mini-icon-link"></span></a>v0.4.0</h2>

            <p>Theme: <em>More functionality of Object Store in the client</em></p>

            <ul>
                <li>
                    <strong>download partial content</strong>; added Range that allow downloads of partials, see <a href="http://docs.openstack.org/api/openstack-object-storage/1.0/content/retrieve-object.html">http://docs.openstack.org/api/openstack-object-storage/1.0/content/retrieve-object.html</a>
                </li>
                <li>
                    <strong>supply your own etag</strong>; added possibility to upload your own Etag, in case you use an inputstream but still require a server-side comparison of MD5 hashes</li>
                <li>
                    <strong>facilitate content sniffing</strong>; added option to change Content-Type of an object. Useful when you do not wish to rely on the default Object Store file extension matcher to determine Content-Type, eg when you have your own content-sniffing algorithm</li>
                <li>
                    <strong>better test coverage</strong>; 98%+ JUnit test coverage achieved</li>
            </ul><h2>
            <a name="v030" class="anchor" href="#v030"><span class="mini-icon mini-icon-link"></span></a>v0.3.0</h2>

            <p>Theme: <em>CloudVPS feedback incorporated</em></p>

            <ul>
                <li>added auto-reconnect after token expiration implemented</li>
                <li>added auto-discovery of object-store Catalogs</li>
                <li>added end point selection based on region preference</li>
                <li>added tenant support</li>
            </ul><h2>
            <a name="v020" class="anchor" href="#v020"><span class="mini-icon mini-icon-link"></span></a>v0.2.0</h2>

            <p>Theme: <em>Subjected to internal 42 review</em></p>

            <ul>
                <li>converted InputStreamWrapper to InputStream subclass</li>
                <li>return Containers and StoredObject as List instead of array[]</li>
                <li>implements Callable interface for all AbstractCommand</li>
                <li>use Closeable for AbstractCommand (added bonus: works for try-with-resources in Java 7 as well)</li>
                <li>refactored client interface from Facade to ActiveRecord pattern</li>
            </ul><h2>
            <a name="v010" class="anchor" href="#v010"><span class="mini-icon mini-icon-link"></span></a>v0.1.0</h2>

            <p>First release with the basic authentication, account and object access</p>
        </section>

        <aside id="sidebar">

            <p class="site-link"><a href="index.html">Home</a></p>
            <p class="site-link">Tutorials</p>
            <p class="site-link-sub"><a href="pagination.html">Pagination</a></p>
            <p class="site-link-sub"><a href="spring.html">Wiring to Spring</a></p>
            <p class="site-link-sub"><a href="economy.html">Economy of server calls</a></p>
            <p class="site-link">Roadmap</p>
            <p class="site-link-sub"><a href="release-notes.html">Release notes</a></p>
            <p class="site-link-sub"><a href="feature-matrix.html">Supported Swift features</a></p>
            <p class="site-link-sub"><a href="future-features.html">Future features</a></p>
            <p class="site-link"><a href="http://javaswift.org">Javaswift</a></p>
            <p class="site-link-sub"><a href="http://joss.javaswift.org">JOSS</a></p>
            <p class="site-link-sub"><a href="http://cloudie.javaswift.org">Cloudie</a></p>

            <hr>

            <a href="https://github.com/javaswift/joss/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/javaswift/joss/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/javaswift/joss"></a> is maintained by <a href="https://github.com/javaswift">javaswift</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-39343905-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>